<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verb Learning Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Heebo', 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        .question-en {
            direction: ltr;
        }
        .sentence-en {
            direction: ltr;
            text-align: left;
        }
        .sentence-he {
            text-align: right;
        }
        .btn-answer {
            transition: all 0.2s ease-in-out;
        }
        .btn-answer:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .btn-answer[dir="ltr"] {
            text-align: left;
        }
         .btn-answer[dir="rtl"] {
            text-align: right;
        }
        .correct-glow {
            animation: glow-green 1s ease-in-out;
            box-shadow: 0 0 15px 5px rgba(34, 197, 94, 0.6);
        }
        .incorrect-glow {
            animation: glow-red 1s ease-in-out;
             box-shadow: 0 0 15px 5px rgba(239, 68, 68, 0.6);
        }

        @keyframes glow-green {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
            50% { box-shadow: 0 0 15px 5px rgba(34, 197, 94, 0.6); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }
        @keyframes glow-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
            50% { box-shadow: 0 0 15px 5px rgba(239, 68, 68, 0.6); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
    </style>
</head>
<body class="bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-2xl mx-auto">
        <h1 class="text-3xl md:text-4xl font-bold text-center text-violet-600 dark:text-violet-400 mb-2">משחק הפעלים של עלמה</h1>
        <p class="text-center text-slate-500 dark:text-slate-400 mb-6">בואי נלמד מילים חדשות!</p>

        <div id="quiz-container" class="bg-white dark:bg-slate-800 p-6 sm:p-8 rounded-2xl shadow-lg">
            
            <!-- Question Area -->
            <div id="question-area" class="mb-6 text-center">
                <p id="question-prompt" class="text-lg text-slate-600 dark:text-slate-300 mb-2"></p>
                <h2 id="question-text" class="text-4xl md:text-5xl font-bold"></h2>
            </div>

            <!-- Answers Area -->
            <div id="answers-grid" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                <!-- Answer buttons will be generated by JS -->
            </div>

            <!-- Feedback Area -->
            <div id="feedback-area" class="h-24 p-4 rounded-lg bg-slate-100 dark:bg-slate-700/50 hidden">
                 <div id="feedback-result" class="text-2xl font-bold text-center mb-2"></div>
                 <div id="feedback-sentence" class="text-center">
                    <p class="sentence-en text-lg"></p>
                    <p class="sentence-he text-lg text-slate-500 dark:text-slate-400"></p>
                 </div>
            </div>
            
            <!-- Next Button -->
            <button id="next-button" class="w-full mt-6 bg-violet-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-violet-700 focus:outline-none focus:ring-4 focus:ring-violet-300 dark:focus:ring-violet-800 transition-all duration-200 text-xl hidden">
                השאלה הבאה &larr;
            </button>
        </div>
         <footer class="text-center mt-6 text-sm text-slate-400 dark:text-slate-500">
            Created with ❤️ for Alma
        </footer>
    </div>

    <script>
        const verbs = [
            { present: 'awake', past: 'awoke', hebrew: 'להתעורר', presentSentence: 'I awake at 7 AM.', presentSentenceHebrew: 'אני מתעורר/ת בשבע בבוקר.', pastSentence: 'She awoke from a dream.', pastSentenceHebrew: 'היא התעוררה מחלום.' },
            { present: 'be', past: 'was, were', hebrew: 'להיות', presentSentence: 'Be quiet, please.', presentSentenceHebrew: 'תהיה/תהיי בשקט, בבקשה.', pastSentence: 'He was happy.', pastSentenceHebrew: 'הוא היה שמח.' },
            { present: 'beat', past: 'beat', hebrew: 'להביס / לנצח', presentSentence: 'Our team will beat them.', presentSentenceHebrew: 'הקבוצה שלנו תנצח אותם.', pastSentence: 'She beat me in the race.', pastSentenceHebrew: 'היא ניצחה אותי במירוץ.' },
            { present: 'become', past: 'became', hebrew: 'להפוך ל...', presentSentence: 'A caterpillar will become a butterfly.', presentSentenceHebrew: 'זחל יהפוך לפרפר.', pastSentence: 'He became a doctor.', pastSentenceHebrew: 'הוא נהיה רופא.' },
            { present: 'begin', past: 'began', hebrew: 'להתחיל', presentSentence: 'Let\'s begin the lesson.', presentSentenceHebrew: 'בואו נתחיל את השיעור.', pastSentence: 'The movie began at 8.', pastSentenceHebrew: 'הסרט התחיל בשמונה.' },
            { present: 'bend', past: 'bent', hebrew: 'לכופף', presentSentence: 'Bend your knees.', presentSentenceHebrew: 'כופף/כופפי את הברכיים.', pastSentence: 'He bent the spoon.', pastSentenceHebrew: 'הוא כיפף את הכפית.' },
            { present: 'bet', past: 'bet', hebrew: 'להתערב', presentSentence: 'I bet you can\'t do it.', presentSentenceHebrew: 'אני מתערב/ת שאת/ה לא יכול/ה לעשות את זה.', pastSentence: 'She bet all her money.', pastSentenceHebrew: 'היא התערבה על כל הכסף שלה.' },
            { present: 'bite', past: 'bit', hebrew: 'לנשוך', presentSentence: 'The dog might bite.', presentSentenceHebrew: 'הכלב עלול לנשוך.', pastSentence: 'I bit my tongue.', pastSentenceHebrew: 'נשכתי את הלשון.' },
            { present: 'blow', past: 'blew', hebrew: 'לנשוף', presentSentence: 'Blow out the candles.', presentSentenceHebrew: 'נשוף/נשפי על הנרות.', pastSentence: 'The wind blew hard.', pastSentenceHebrew: 'הרוח נשבה חזק.' },
            { present: 'break', past: 'broke', hebrew: 'לשבור', presentSentence: 'Don\'t break the toy.', presentSentenceHebrew: 'אל תשבור/תשברי את הצעצוע.', pastSentence: 'I broke my pencil.', pastSentenceHebrew: 'שברתי את העיפרון שלי.' },
            { present: 'bring', past: 'brought', hebrew: 'להביא', presentSentence: 'Please bring me a glass of water.', presentSentenceHebrew: 'בבקשה תביא/תביאי לי כוס מים.', pastSentence: 'He brought a gift to the party.', pastSentenceHebrew: 'הוא הביא מתנה למסיבה.' },
            { present: 'broadcast', past: 'broadcast', hebrew: 'לשדר', presentSentence: 'They broadcast the news every evening.', presentSentenceHebrew: 'הם משדרים את החדשות כל ערב.', pastSentence: 'The game was broadcast live.', pastSentenceHebrew: 'המשחק שודר בשידור חי.' },
            { present: 'build', past: 'built', hebrew: 'לבנות', presentSentence: 'Let\'s build a sandcastle.', presentSentenceHebrew: 'בואו נבנה ארמון חול.', pastSentence: 'They built a new house.', pastSentenceHebrew: 'הם בנו בית חדש.' },
            { present: 'buy', past: 'bought', hebrew: 'לקנות', presentSentence: 'I need to buy milk.', presentSentenceHebrew: 'אני צריך/צריכה לקנות חלב.', pastSentence: 'She bought a new dress.', pastSentenceHebrew: 'היא קנתה שמלה חדשה.' },
            { present: 'catch', past: 'caught', hebrew: 'לתפוס', presentSentence: 'Try to catch the ball.', presentSentenceHebrew: 'נסה/נסי לתפוס את הכדור.', pastSentence: 'The cat caught the mouse.', pastSentenceHebrew: 'החתול תפס את העכבר.' },
            { present: 'choose', past: 'chose', hebrew: 'לבחור', presentSentence: 'You can choose any color.', presentSentenceHebrew: 'את/ה יכול/ה לבחור איזה צבע שתרצה/תרצי.', pastSentence: 'He chose the blue shirt.', pastSentenceHebrew: 'הוא בחר את החולצה הכחולה.' },
            { present: 'come', past: 'came', hebrew: 'לבוא', presentSentence: 'Please come to my party.', presentSentenceHebrew: 'בבקשה בוא/בואי למסיבה שלי.', pastSentence: 'She came home late.', pastSentenceHebrew: 'היא באה הביתה מאוחר.' },
            { present: 'cost', past: 'cost', hebrew: 'לעלות (מחיר)', presentSentence: 'How much does it cost?', presentSentenceHebrew: 'כמה זה עולה?', pastSentence: 'The ticket cost ten dollars.', pastSentenceHebrew: 'הכרטיס עלה עשרה דולרים.' },
            { present: 'cut', past: 'cut', hebrew: 'לחתוך', presentSentence: 'Be careful when you cut the paper.', presentSentenceHebrew: 'היזהר/היזהרי כשאת/ה חותך/ת את הנייר.', pastSentence: 'I cut my finger.', pastSentenceHebrew: 'חתכתי את האצבע.' },
            { present: 'dig', past: 'dug', hebrew: 'לחפור', presentSentence: 'The dog loves to dig holes.', presentSentenceHebrew: 'הכלב אוהב לחפור בורות.', pastSentence: 'They dug for treasure.', pastSentenceHebrew: 'הם חפרו בשביל למצוא אוצר.' },
            { present: 'do', past: 'did', hebrew: 'לעשות', presentSentence: 'Do your homework.', presentSentenceHebrew: 'עשה/עשי את שיעורי הבית.', pastSentence: 'I did my best.', pastSentenceHebrew: 'עשיתי את הכי טוב שלי.' },
            { present: 'draw', past: 'drew', hebrew: 'לצייר', presentSentence: 'Can you draw a house?', presentSentenceHebrew: 'את/ה יכול/ה לצייר בית?', pastSentence: 'She drew a beautiful picture.', pastSentenceHebrew: 'היא ציירה ציור יפהפה.' },
            { present: 'dream', past: 'dreamed or dreamt', hebrew: 'לחלום', presentSentence: 'I dream of flying.', presentSentenceHebrew: 'אני חולם/ת לעוף.', pastSentence: 'He dreamed a wonderful dream.', pastSentenceHebrew: 'הוא חלם חלום נפלא.' },
            { present: 'drive', past: 'drove', hebrew: 'לנהוג', presentSentence: 'My dad will drive us.', presentSentenceHebrew: 'אבא שלי יסיע אותנו.', pastSentence: 'We drove to the beach.', pastSentenceHebrew: 'נהגנו לחוף הים.' },
            { present: 'drink', past: 'drank', hebrew: 'לשתות', presentSentence: 'Drink a lot of water.', presentSentenceHebrew: 'שתה/שתי הרבה מים.', pastSentence: 'He drank all the juice.', pastSentenceHebrew: 'הוא שתה את כל המיץ.' },
            { present: 'eat', past: 'ate', hebrew: 'לאכול', presentSentence: 'What do you want to eat?', presentSentenceHebrew: 'מה את/ה רוצה לאכול?', pastSentence: 'She ate a big pizza.', pastSentenceHebrew: 'היא אכלה פיצה גדולה.' },
            { present: 'fall', past: 'fell', hebrew: 'ליפול', presentSentence: 'Don\'t fall down.', presentSentenceHebrew: 'אל תיפול/תיפלי.', pastSentence: 'The book fell off the table.', pastSentenceHebrew: 'הספר נפל מהשולחן.' },
            { present: 'feel', past: 'felt', hebrew: 'להרגיש', presentSentence: 'How do you feel?', presentSentenceHebrew: 'איך את/ה מרגיש/ה?', pastSentence: 'I felt happy yesterday.', pastSentenceHebrew: 'הרגשתי שמח/ה אתמול.' },
            { present: 'fight', past: 'fought', hebrew: 'להילחם / לריב', presentSentence: 'It\'s not nice to fight.', presentSentenceHebrew: 'זה לא יפה לריב.', pastSentence: 'The two knights fought bravely.', pastSentenceHebrew: 'שני האבירים נלחמו באומץ.' },
            { present: 'find', past: 'found', hebrew: 'למצוא', presentSentence: 'I can\'t find my keys.', presentSentenceHebrew: 'אני לא מצליח/ה למצוא את המפתחות שלי.', pastSentence: 'She found a coin on the street.', pastSentenceHebrew: 'היא מצאה מטבע ברחוב.' },
            { present: 'fly', past: 'flew', hebrew: 'לעוף', presentSentence: 'Birds can fly high.', presentSentenceHebrew: 'ציפורים יכולות לעוף גבוה.', pastSentence: 'The plane flew over the clouds.', pastSentenceHebrew: 'המטוס טס מעל העננים.' },
            { present: 'forget', past: 'forgot', hebrew: 'לשכוח', presentSentence: 'Don\'t forget your bag.', presentSentenceHebrew: 'אל תשכח/תשכחי את התיק שלך.', pastSentence: 'I forgot his name.', pastSentenceHebrew: 'שכחתי את שמו.' },
            { present: 'forgive', past: 'forgave', hebrew: 'לסלוח', presentSentence: 'Please forgive me.', presentSentenceHebrew: 'בבקשה תסלח/תסלחי לי.', pastSentence: 'She forgave him.', pastSentenceHebrew: 'היא סלחה לו.' },
            { present: 'freeze', past: 'froze', hebrew: 'לקפוא', presentSentence: 'The water will freeze in the cold.', presentSentenceHebrew: 'המים יקפאו בקור.', pastSentence: 'He froze when he saw the ghost.', pastSentenceHebrew: 'הוא קפא כשראה את רוח הרפאים.' },
            { present: 'get', past: 'got', hebrew: 'לקבל', presentSentence: 'What did you get for your birthday?', presentSentenceHebrew: 'מה קיבלת ליום ההולדת שלך?', pastSentence: 'I got a new bike.', pastSentenceHebrew: 'קיבלתי אופניים חדשים.' },
            { present: 'give', past: 'gave', hebrew: 'לתת', presentSentence: 'Give me the book, please.', presentSentenceHebrew: 'תן/תני לי את הספר, בבקשה.', pastSentence: 'She gave me a present.', pastSentenceHebrew: 'היא נתנה לי מתנה.' },
            { present: 'go', past: 'went', hebrew: 'ללכת', presentSentence: 'Let\'s go to the park.', presentSentenceHebrew: 'בואו נלך לפארק.', pastSentence: 'He went to school.', pastSentenceHebrew: 'הוא הלך לבית הספר.' },
            { present: 'grow', past: 'grew', hebrew: 'לגדול / לגדל', presentSentence: 'Plants need sun to grow.', presentSentenceHebrew: 'צמחים צריכים שמש כדי לגדול.', pastSentence: 'The tree grew very tall.', pastSentenceHebrew: 'העץ גדל מאוד גבוה.' },
            { present: 'hang', past: 'hung', hebrew: 'לתלות', presentSentence: 'Hang your coat on the hook.', presentSentenceHebrew: 'תלה/תלי את המעיל שלך על הוו.', pastSentence: 'She hung the picture on the wall.', pastSentenceHebrew: 'היא תלתה את התמונה על הקיר.' },
            { present: 'have', past: 'had', hebrew: 'יש ל...', presentSentence: 'I have a dog.', presentSentenceHebrew: 'יש לי כלב.', pastSentence: 'He had a red car.', pastSentenceHebrew: 'היתה לו מכונית אדומה.' },
            { present: 'hear', past: 'heard', hebrew: 'לשמוע', presentSentence: 'Can you hear the music?', presentSentenceHebrew: 'את/ה שומע/ת את המוזיקה?', pastSentence: 'I heard a strange noise.', pastSentenceHebrew: 'שמעתי רעש מוזר.' },
            { present: 'hide', past: 'hid', hebrew: 'להתחבא', presentSentence: 'Let\'s play hide and seek.', presentSentenceHebrew: 'בואו נשחק מחבואים.', pastSentence: 'The cat hid under the bed.', pastSentenceHebrew: 'החתול התחבא מתחת למיטה.' },
            { present: 'hit', past: 'hit', hebrew: 'להכות / לפגוע', presentSentence: 'Don\'t hit your brother.', presentSentenceHebrew: 'אל תכה את אחיך.', pastSentence: 'The ball hit the window.', pastSentenceHebrew: 'הכדור פגע בחלון.' },
            { present: 'hold', past: 'held', hebrew: 'להחזיק', presentSentence: 'Hold my hand.', presentSentenceHebrew: 'החזק/החזיקי את ידי.', pastSentence: 'She held the baby gently.', pastSentenceHebrew: 'היא החזיקה את התינוק בעדינות.' },
            { present: 'hurt', past: 'hurt', hebrew: 'לפגוע / לכאוב', presentSentence: 'Did you hurt your knee?', presentSentenceHebrew: 'פצעת את הברך?', pastSentence: 'My leg hurt after the fall.', pastSentenceHebrew: 'הרגל כאבה לי אחרי הנפילה.' },
            { present: 'keep', past: 'kept', hebrew: 'לשמור', presentSentence: 'You can keep the change.', presentSentenceHebrew: 'את/ה יכול/ה לשמור את העודף.', pastSentence: 'He kept his promise.', pastSentenceHebrew: 'הוא שמר על הבטחתו.' },
            { present: 'know', past: 'knew', hebrew: 'לדעת', presentSentence: 'I know the answer.', presentSentenceHebrew: 'אני יודע/ת את התשובה.', pastSentence: 'She knew the secret.', pastSentenceHebrew: 'היא ידעה את הסוד.' },
            { present: 'lay', past: 'laid', hebrew: 'להניח', presentSentence: 'Lay the book on the table.', presentSentenceHebrew: 'הנח/הניחי את הספר על השולחן.', pastSentence: 'The chicken laid an egg.', pastSentenceHebrew: 'התרנגולת הטילה ביצה.' },
            { present: 'lead', past: 'led', hebrew: 'להוביל', presentSentence: 'The guide will lead the way.', presentSentenceHebrew: 'המדריך יוביל את הדרך.', pastSentence: 'The captain led his team to victory.', pastSentenceHebrew: 'הקפטן הוביל את קבוצתו לניצחון.' },
            { present: 'learn', past: 'learned or learnt', hebrew: 'ללמוד', presentSentence: 'We learn new things every day.', presentSentenceHebrew: 'אנחנו לומדים דברים חדשים כל יום.', pastSentence: 'I learned to ride a bike last year.', pastSentenceHebrew: 'למדתי לרכוב על אופניים שנה שעברה.' },
            { present: 'leave', past: 'left', hebrew: 'לעזוב', presentSentence: 'It\'s time to leave.', presentSentenceHebrew: 'הגיע הזמן לעזוב.', pastSentence: 'He left the house early.', pastSentenceHebrew: 'הוא עזב את הבית מוקדם.' },
            { present: 'lend', past: 'lent', hebrew: 'להלוות', presentSentence: 'Can you lend me a pencil?', presentSentenceHebrew: 'את/ה יכול/ה להלוות לי עיפרון?', pastSentence: 'She lent him her book.', pastSentenceHebrew: 'היא הלוותה לו את הספר שלה.' },
            { present: 'let', past: 'let', hebrew: 'לאפשר / לתת', presentSentence: 'Let me help you.', presentSentenceHebrew: 'תן/תני לי לעזור לך.', pastSentence: 'My mom let me go to the party.', pastSentenceHebrew: 'אמא שלי הרשתה לי ללכת למסיבה.' },
            { present: 'lie', past: 'lay', hebrew: 'לשכב', presentSentence: 'I want to lie on the grass.', presentSentenceHebrew: 'אני רוצה לשכב על הדשא.', pastSentence: 'The dog lay on the floor.', pastSentenceHebrew: 'הכלב שכב על הרצפה.' },
            { present: 'lose', past: 'lost', hebrew: 'לאבד', presentSentence: 'Don\'t lose your keys.', presentSentenceHebrew: 'אל תאבד/תאבדי את המפתחות שלך.', pastSentence: 'I lost my favorite toy.', pastSentenceHebrew: 'איבדתי את הצעצוע האהוב עלי.' },
            { present: 'make', past: 'made', hebrew: 'להכין', presentSentence: 'Let\'s make a cake.', presentSentenceHebrew: 'בואו נכין עוגה.', pastSentence: 'She made a beautiful drawing.', pastSentenceHebrew: 'היא הכינה ציור יפהפה.' },
            { present: 'mean', past: 'meant', hebrew: 'להתכוון', presentSentence: 'What do you mean?', presentSentenceHebrew: 'למה את/ה מתכוון/ת?', pastSentence: 'I didn\'t mean to hurt you.', pastSentenceHebrew: 'לא התכוונתי לפגוע בך.' },
            { present: 'meet', past: 'met', hebrew: 'לפגוש', presentSentence: 'Nice to meet you.', presentSentenceHebrew: 'נעים לפגוש אותך.', pastSentence: 'I met my friend at the park.', pastSentenceHebrew: 'פגשתי את חבר שלי בפארק.' },
            { present: 'pay', past: 'paid', hebrew: 'לשלם', presentSentence: 'I need to pay for the book.', presentSentenceHebrew: 'אני צריך/צריכה לשלם על הספר.', pastSentence: 'He paid the bill.', pastSentenceHebrew: 'הוא שילם את החשבון.' },
            { present: 'put', past: 'put', hebrew: 'לשים', presentSentence: 'Put the toys in the box.', presentSentenceHebrew: 'שים/שימי את הצעצועים בקופסה.', pastSentence: 'She put sugar in her tea.', pastSentenceHebrew: 'היא שמה סוכר בתה שלה.' },
            { present: 'read', past: 'read', hebrew: 'לקרוא', presentSentence: 'I love to read books.', presentSentenceHebrew: 'אני אוהב/ת לקרוא ספרים.', pastSentence: 'Yesterday I read a story.', pastSentenceHebrew: 'אתמול קראתי סיפור.' },
            { present: 'ride', past: 'rode', hebrew: 'לרכוב', presentSentence: 'Can you ride a bike?', presentSentenceHebrew: 'את/ה יודע/ת לרכוב על אופניים?', pastSentence: 'He rode his horse in the field.', pastSentenceHebrew: 'הוא רכב על סוסו בשדה.' },
            { present: 'ring', past: 'rang', hebrew: 'לצלצל', presentSentence: 'The phone will ring soon.', presentSentenceHebrew: 'הטלפון יצלצל בקרוב.', pastSentence: 'The school bell rang.', pastSentenceHebrew: 'פעמון בית הספר צלצל.' },
            { present: 'rise', past: 'rose', hebrew: 'לזרוח / לעלות', presentSentence: 'The sun will rise in the morning.', presentSentenceHebrew: 'השמש תזרח בבוקר.', pastSentence: 'The balloon rose into the air.', pastSentenceHebrew: 'הבלון עלה לאוויר.' },
            { present: 'run', past: 'ran', hebrew: 'לרוץ', presentSentence: 'I can run very fast.', presentSentenceHebrew: 'אני יכול/ה לרוץ מהר מאוד.', pastSentence: 'She ran to catch the bus.', pastSentenceHebrew: 'היא רצה לתפוס את האוטובוס.' },
            { present: 'say', past: 'said', hebrew: 'להגיד', presentSentence: 'Say "please" and "thank you".', presentSentenceHebrew: 'אמור/אמרי "בבקשה" ו"תודה".', pastSentence: 'He said hello.', pastSentenceHebrew: 'הוא אמר שלום.' },
            { present: 'see', past: 'saw', hebrew: 'לראות', presentSentence: 'I can see a bird in the tree.', presentSentenceHebrew: 'אני רואה ציפור על העץ.', pastSentence: 'We saw a movie last night.', pastSentenceHebrew: 'ראינו סרט אתמול בלילה.' },
            { present: 'sell', past: 'sold', hebrew: 'למכור', presentSentence: 'They sell ice cream at the beach.', presentSentenceHebrew: 'הם מוכרים גלידה בחוף.', pastSentence: 'He sold his old car.', pastSentenceHebrew: 'הוא מכר את המכונית הישנה שלו.' },
            { present: 'send', past: 'sent', hebrew: 'לשלוח', presentSentence: 'I will send you an email.', presentSentenceHebrew: 'אני אשלח לך אימייל.', pastSentence: 'She sent me a letter.', pastSentenceHebrew: 'היא שלחה לי מכתב.' },
            { present: 'show', past: 'showed', hebrew: 'להראות', presentSentence: 'Show me your drawing.', presentSentenceHebrew: 'הראה/הראי לי את הציור שלך.', pastSentence: 'He showed me the way.', pastSentenceHebrew: 'הוא הראה לי את הדרך.' },
            { present: 'shut', past: 'shut', hebrew: 'לסגור', presentSentence: 'Please shut the door.', presentSentenceHebrew: 'בבקשה סגור/סגרי את הדלת.', pastSentence: 'She shut the window because it was cold.', pastSentenceHebrew: 'היא סגרה את החלון כי היה קר.' },
            { present: 'sing', past: 'sang', hebrew: 'לשיר', presentSentence: 'Let\'s sing a song together.', presentSentenceHebrew: 'בואו נשיר שיר ביחד.', pastSentence: 'She sang beautifully at the concert.', pastSentenceHebrew: 'היא שרה יפהפיה בהופעה.' },
            { present: 'sink', past: 'sank', hebrew: 'לשקוע', presentSentence: 'A heavy stone will sink in water.', presentSentenceHebrew: 'אבן כבדה תשקע במים.', pastSentence: 'The boat sank in the storm.', pastSentenceHebrew: 'הסירה שקעה בסערה.' },
            { present: 'sit', past: 'sat', hebrew: 'לשבת', presentSentence: 'Please sit down.', presentSentenceHebrew: 'בבקשה שב/שבי.', pastSentence: 'The cat sat on the mat.', pastSentenceHebrew: 'החתול ישב על השטיח.' },
            { present: 'sleep', past: 'slept', hebrew: 'לישון', presentSentence: 'It\'s time to sleep.', presentSentenceHebrew: 'הגיע הזמן לישון.', pastSentence: 'The baby slept all night.', pastSentenceHebrew: 'התינוק ישן כל הלילה.' },
            { present: 'speak', past: 'spoke', hebrew: 'לדבר', presentSentence: 'Speak clearly.', presentSentenceHebrew: 'דבר/דברי ברור.', pastSentence: 'I spoke to my teacher yesterday.', pastSentenceHebrew: 'דיברתי עם המורה שלי אתמול.' },
            { present: 'spend', past: 'spent', hebrew: 'לבזבז / לבלות', presentSentence: 'Don\'t spend all your money.', presentSentenceHebrew: 'אל תבזבז/תבזבזי את כל הכסף שלך.', pastSentence: 'We spent the day at the beach.', pastSentenceHebrew: 'בילינו את היום בחוף.' },
            { present: 'stand', past: 'stood', hebrew: 'לעמוד', presentSentence: 'Stand up, please.', presentSentenceHebrew: 'קום/קומי, בבקשה.', pastSentence: 'He stood at the bus stop.', pastSentenceHebrew: 'הוא עמד בתחנת האוטובוס.' },
            { present: 'swim', past: 'swam', hebrew: 'לשחות', presentSentence: 'I like to swim in the pool.', presentSentenceHebrew: 'אני אוהב/ת לשחות בבריכה.', pastSentence: 'We swam in the sea.', pastSentenceHebrew: 'שחינו בים.' },
            { present: 'take', past: 'took', hebrew: 'לקחת', presentSentence: 'Take an apple for a snack.', presentSentenceHebrew: 'קח/קחי תפוח לחטיף.', pastSentence: 'He took a photo of the flower.', pastSentenceHebrew: 'הוא צילם תמונה של הפרח.' },
            { present: 'teach', past: 'taught', hebrew: 'ללמד', presentSentence: 'My mother will teach me to cook.', presentSentenceHebrew: 'אמא שלי תלמד אותי לבשל.', pastSentence: 'The teacher taught us math.', pastSentenceHebrew: 'המורה לימד/ה אותנו חשבון.' },
            { present: 'tear', past: 'tore', hebrew: 'לקרוע', presentSentence: 'Be careful not to tear the page.', presentSentenceHebrew: 'היזהר/היזהרי לא לקרוע את הדף.', pastSentence: 'He tore the paper in half.', pastSentenceHebrew: 'הוא קרע את הנייר לשניים.' },
            { present: 'tell', past: 'told', hebrew: 'לספר / להגיד', presentSentence: 'Tell me a story.', presentSentenceHebrew: 'ספר/ספרי לי סיפור.', pastSentence: 'She told me a secret.', pastSentenceHebrew: 'היא סיפרה לי סוד.' },
            { present: 'think', past: 'thought', hebrew: 'לחשוב', presentSentence: 'What do you think?', presentSentenceHebrew: 'מה את/ה חושב/ת?', pastSentence: 'I thought about you.', pastSentenceHebrew: 'חשבתי עליך.' },
            { present: 'throw', past: 'threw', hebrew: 'לזרוק', presentSentence: 'Throw the ball to me.', presentSentenceHebrew: 'זרוק/זרקי לי את הכדור.', pastSentence: 'He threw the paper in the bin.', pastSentenceHebrew: 'הוא זרק את הנייר לפח.' },
            { present: 'understand', past: 'understood', hebrew: 'להבין', presentSentence: 'Do you understand the question?', presentSentenceHebrew: 'את/ה מבין/ה את השאלה?', pastSentence: 'I understood everything.', pastSentenceHebrew: 'הבנתי הכל.' },
            { present: 'wake', past: 'woke', hebrew: 'להעיר', presentSentence: 'Wake me up at seven.', presentSentenceHebrew: 'תעיר/תעירי אותי בשבע.', pastSentence: 'The noise woke the baby.', pastSentenceHebrew: 'הרעש העיר את התינוק.' },
            { present: 'wear', past: 'wore', hebrew: 'ללבוש', presentSentence: 'What will you wear to the party?', presentSentenceHebrew: 'מה תלבש/תלבשי למסיבה?', pastSentence: 'She wore a beautiful dress.', pastSentenceHebrew: 'היא לבשה שמלה יפה.' },
            { present: 'win', past: 'won', hebrew: 'לנצח', presentSentence: 'I hope our team will win.', presentSentenceHebrew: 'אני מקווה שהקבוצה שלנו תנצח.', pastSentence: 'He won the game.', pastSentenceHebrew: 'הוא ניצח במשחק.' },
            { present: 'write', past: 'wrote', hebrew: 'לכתוב', presentSentence: 'Write your name on the paper.', presentSentenceHebrew: 'כתוב/כתבי את שמך על הדף.', pastSentence: 'She wrote a letter to her friend.', pastSentenceHebrew: 'היא כתבה מכתב לחברתה.' },
        ];

        // --- DOM Elements ---
        const questionPromptEl = document.getElementById('question-prompt');
        const questionTextEl = document.getElementById('question-text');
        const answersGridEl = document.getElementById('answers-grid');
        const feedbackAreaEl = document.getElementById('feedback-area');
        const feedbackResultEl = document.getElementById('feedback-result');
        const feedbackSentenceEnEl = feedbackAreaEl.querySelector('.sentence-en');
        const feedbackSentenceHeEl = feedbackAreaEl.querySelector('.sentence-he');
        const nextButtonEl = document.getElementById('next-button');

        let currentCorrectVerb = null;
        let currentCorrectAnswer = null;
        let currentTense = '';

        // --- Utility Functions ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function getRandomVerbs(count, excludeVerb) {
            const randomVerbs = new Set();
            while (randomVerbs.size < count) {
                const randomVerb = verbs[Math.floor(Math.random() * verbs.length)];
                if (randomVerb.present !== excludeVerb.present) {
                    randomVerbs.add(randomVerb);
                }
            }
            return Array.from(randomVerbs);
        }

        // --- Core Game Logic ---
        function generateQuestion() {
            // 1. Reset UI
            feedbackAreaEl.classList.add('hidden');
            nextButtonEl.classList.add('hidden');
            answersGridEl.innerHTML = '';

            // 2. Pick random exercise type (0-3)
            const exerciseType = Math.floor(Math.random() * 4);

            // 3. Select verbs for the question
            currentCorrectVerb = verbs[Math.floor(Math.random() * verbs.length)];
            const wrongVerbs = getRandomVerbs(3, currentCorrectVerb);
            const options = [currentCorrectVerb, ...wrongVerbs];
            shuffleArray(options);

            // 4. Set up question based on type
            let questionText, promptText, answerKey, optionKey, textDir, answerDir;

            switch (exerciseType) {
                case 0: // English (Present) -> Hebrew
                    promptText = "מה התרגום של הפועל:";
                    questionText = currentCorrectVerb.present;
                    currentCorrectAnswer = currentCorrectVerb.hebrew;
                    currentTense = 'present';
                    answerKey = 'hebrew';
                    optionKey = 'hebrew';
                    textDir = 'ltr';
                    answerDir = 'rtl';
                    break;
                case 1: // Hebrew -> English (Present)
                    promptText = "איזה פועל מתאים לתרגום:";
                    questionText = currentCorrectVerb.hebrew;
                    currentCorrectAnswer = currentCorrectVerb.present;
                    currentTense = 'present';
                    answerKey = 'present';
                    optionKey = 'present';
                    textDir = 'rtl';
                    answerDir = 'ltr';
                    break;
                case 2: // English (Past) -> Hebrew
                    promptText = "מה התרגום של הפועל (בזמן עבר):";
                    questionText = currentCorrectVerb.past;
                    currentCorrectAnswer = currentCorrectVerb.hebrew;
                    currentTense = 'past';
                    answerKey = 'hebrew';
                    optionKey = 'hebrew';
                    textDir = 'ltr';
                    answerDir = 'rtl';
                    break;
                case 3: // Hebrew -> English (Past)
                    promptText = "איזה פועל (בזמן עבר) מתאים לתרגום:";
                    questionText = currentCorrectVerb.hebrew;
                    currentCorrectAnswer = currentCorrectVerb.past;
                    currentTense = 'past';
                    answerKey = 'past';
                    optionKey = 'past';
                    textDir = 'rtl';
                    answerDir = 'ltr';
                    break;
            }

            // 5. Display the question
            questionPromptEl.textContent = promptText;
            questionTextEl.textContent = questionText;
            questionTextEl.className = `text-4xl md:text-5xl font-bold ${textDir === 'ltr' ? 'question-en' : ''}`;


            // 6. Create and display answer buttons
            options.forEach(verb => {
                const button = document.createElement('button');
                const answerText = verb[optionKey];
                button.textContent = answerText;
                button.setAttribute('data-answer', answerText);
                button.setAttribute('dir', answerDir);
                button.className = 'btn-answer p-4 bg-white dark:bg-slate-700 border-2 border-slate-200 dark:border-slate-600 rounded-lg text-xl font-medium hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-4 focus:ring-violet-300 dark:focus:ring-violet-800';
                button.onclick = () => checkAnswer(button);
                answersGridEl.appendChild(button);
            });
        }
        
        function checkAnswer(selectedButton) {
            const selectedAnswer = selectedButton.getAttribute('data-answer');
            const allButtons = answersGridEl.querySelectorAll('button');

            // Disable all buttons
            allButtons.forEach(btn => btn.disabled = true);
            
            // Show feedback area
            feedbackAreaEl.classList.remove('hidden');
            
            const isCorrect = selectedAnswer === currentCorrectAnswer;

            if (isCorrect) {
                feedbackResultEl.textContent = 'כל הכבוד! תשובה נכונה!';
                feedbackResultEl.className = 'text-2xl font-bold text-center text-green-500';
                selectedButton.classList.add('bg-green-100', 'dark:bg-green-800/50', 'border-green-500', 'correct-glow');
                selectedButton.classList.remove('border-slate-200', 'dark:border-slate-600');
            } else {
                feedbackResultEl.textContent = 'אוי, זו לא התשובה הנכונה.';
                feedbackResultEl.className = 'text-2xl font-bold text-center text-red-500';
                selectedButton.classList.add('bg-red-100', 'dark:bg-red-800/50', 'border-red-500', 'incorrect-glow');
                selectedButton.classList.remove('border-slate-200', 'dark:border-slate-600');
                // Highlight the correct one
                allButtons.forEach(btn => {
                    if (btn.getAttribute('data-answer') === currentCorrectAnswer) {
                        btn.classList.add('bg-green-100', 'dark:bg-green-800/50', 'border-green-500');
                        btn.classList.remove('border-slate-200', 'dark:border-slate-600');
                    }
                });
            }

            // Display example sentence
            if (currentTense === 'present') {
                 feedbackSentenceEnEl.textContent = currentCorrectVerb.presentSentence;
                 feedbackSentenceHeEl.textContent = currentCorrectVerb.presentSentenceHebrew;
            } else {
                 feedbackSentenceEnEl.textContent = currentCorrectVerb.pastSentence;
                 feedbackSentenceHeEl.textContent = currentCorrectVerb.pastSentenceHebrew;
            }

            // Show next button
            nextButtonEl.classList.remove('hidden');
        }

        // --- Event Listeners ---
        nextButtonEl.addEventListener('click', generateQuestion);

        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', generateQuestion);
    </script>
</body>
</html>

